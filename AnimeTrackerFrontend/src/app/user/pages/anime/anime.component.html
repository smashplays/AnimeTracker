<div class="text-white p-5" *ngIf="selectedAnime">
  <div class="flex flex-col md:flex-row items-start">
    <img
      src="{{ selectedAnime.data.images.jpg.image_url }}"
      alt="{{ selectedAnime.data.title }}"
      class="rounded-lg mb-5 md:mr-10 md:mb-0"
    />

    <div>
      <div>
        <h1 class="text-white text-3xl mb-2">
          {{ selectedAnime.data.title | uppercase }}
        </h1>
        <button
          class="bg-[#9229D5] hover:bg-[#4E047D] text-white rounded-lg w-[40px] h-[40px] mb-2"
          (click)="deleteAnime()"
        >
        ‚ùå
        </button>
      </div>

      <div class="mb-5 text-justify">
        {{ selectedAnime.data.synopsis }}
      </div>

      <hr />

      <div class="mx-auto text-center">
        <h2 class="text-3xl mt-5" *ngIf="chapterInfo.data">EPISODES</h2>
        <div
          *ngFor="let chapter of chapterInfo.data; let i = index"
          class="mt-5"
        >
          <span class="text-white" *ngIf="chapter.chapter">
            <div class="flex items-center bg-[#4E047D] rounded-lg p-2">
              <div class="flex-grow mr-2">{{ chapter.chapter.name }}</div>
              <button
                class="px-3 py-1 text-sm font-medium text-blue-500 bg-gray-200 rounded-lg hover:bg-green-500 hover:text-white transition-colors duration-200"
                *ngIf="!chapter.watched"
                (click)="toggleWatch(chapter.id, chapter.watched)"
              >
                Mark as viewed
              </button>

              <button
                class="px-3 py-1 text-sm font-medium text-white bg-blue-500 rounded-lg hover:bg-red-600 transition-colors duration-200"
                *ngIf="chapter.watched"
                (click)="toggleWatch(chapter.id, chapter.watched)"
              >
                Mark as not viewed
              </button>
            </div>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
